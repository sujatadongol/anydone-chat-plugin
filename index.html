<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Sora&display=swap"
      rel="stylesheet"
    />
    <link rel="shortcut icon" type="image/jpg" href="/assets/favicon.ico" />
    <title>Chat-Plugin Dev_Test</title>
  </head>
  <body>
    <!-- <img class="left-arrow-icon" src="./assets/left-arrow.svg" alt="left" />
    <img class="right-arrow-icon" src="./assets/right-arrow.svg" alt="right" /> -->
    <header class="header">
      <div class="logo-wrapper">
        <img
          src="https://storage.googleapis.com/anydone_files_prod/AnydoneIcon.svg"
          alt="anydone"
          width="80"
          height="80"
        />
        <h1>chat plugin</h1>
      </div>

      <!-- <div class="user-details-wrapper">
        <img src="./assets/user-fill.svg" alt="user" width="50" height="50" />
        <div class="user-data">
          <div><span class="user-data-key">Name:</span> Daniel Thapa</div>
          <div><span class="user-data-key">Email:</span> dtdaniel27@gmail.com</div>
          <div><span class="user-data-key">Mapping id:</span> cd91b4522b624d0dbd585a8d3ab8b11c</div>
          <div><span  class="user-data-key">Customer id:</span> 6ee16b75061543f1b7375a7f0c02f14e</div>
        </div>
      </div> -->
      <!-- <div class="switch-wrapper">
        <p>Dev</p>
        <label class="switch">
          <input type="checkbox" class="header-switch" />
          <span class="slider"></span>
        </label>
        <p>Prod</p>
      </div> -->
    </header>
    <main>
      <div class="bot-cred-input">
        <div class="input-div">
          <img
            src="./assets/robot-fill.svg"
            alt="bot"
            width="22px"
            height="22px"
          />
          <input required type="text" class="bot-name" placeholder="Bot Name" />
        </div>
        <div class="input-div">
          <img
            src="./assets/key-fill.svg"
            alt="bot"
            width="22px"
            height="22px"
          />
          <input required type="text" class="api-key" placeholder="Api Key" />
        </div>
        <div class="input-div">
          <img
            src="./assets/shield-keyhole-fill.svg"
            alt="bot"
            width="22px"
            height="22px"
          />
          <input re type="text" class="api-secret" placeholder="Api Secret" />
        </div>
        <div class="input-div">
          <img
            src="./assets/sound-module-line.svg"
            alt="bot"
            width="22px"
            height="22px"
          />
          <input
            required
            type="text"
            class="environment"
            placeholder="Environment"
          />
        </div>
        <div class="input-div">
          <img
            src="./assets/global-fill.svg"
            alt="bot"
            width="22px"
            height="22px"
          />
          <input required type="text" class="domain" placeholder="Domain" />
        </div>
        <button class="add-bot-button" type="button" onclick="addBot()">
          Add
        </button>
        <!-- <button class="new-user-button" type="button" onclick="removeUser()">
          New User
        </button> -->
      </div>

      <!-- <button type="button" class="modalButton">Open callModal</button> -->
      <div class="bot-list">
        <!-- <div class="bot-item active">
          <div class="card-side chatBot-card-front-side">
            <div class="bot-item-text">
              <div class="bot-item-header">
                <img
                  class="bot-item-botImg"
                  src="./assets/robot-fill.svg"
                  alt="bot"
                />
                <h2 class="bot-item-header-text">Kshitij Testbot</h2>
              </div>
              <ul class="bot-item-details">
                <li>
                  <span class="bot-item-details-key">ApiKey:</span> fzGOopneue
                </li>
                <li>
                  <span class="bot-item-details-key">ApiSecret</span>
                  IWA4MVxXOWvk
                </li>
                <li>
                  <span class="bot-item-details-key">Environment:</span>
                  Development
                </li>
                <li>
                  <span class="bot-item-details-key">Domain:</span>
                  www.google.com
                </li>
              </ul>
            </div>
          </div>
          <div class="card-side chatBot-card-back-side">
            <div class="button-wrapper">
              <button class="delete-button" type="button">Delete</button>
              <button class="initiate-button" type="button">Initiate</button>
            </div>
          </div>
        </div> -->
      </div>
    </main>
  </body>
  <script src="bot.js"></script>
  <script src="chat-dev.js"></script>
  <script>
    if (localStorage.getItem("botInfo-List") !== null) {
      createStoredBotList();
      if (getLocalStorageItem("botInfo-List").length < 1) {
        addInitialBotList();
        createStoredBotList();
      }
    } else {
      addInitialBotList();
      createStoredBotList();
    }

    if (localStorage.getItem("customerData") !== null) {
      const customerData = JSON.parse(localStorage.getItem("customerData"));
      createUserDataHeader(customerData);
    }

    if (localStorage.getItem("currentBot") !== null) {
      const currentBotInfo = JSON.parse(localStorage.getItem("currentBot"));
      const apiKeyValue = currentBotInfo.apiKey;
      const apiSecretValue = currentBotInfo.apiSecret;
      const devDomain = currentBotInfo.domain;
      const env = currentBotInfo.env;
      init_anydone_chat(apiKeyValue, apiSecretValue, devDomain, env);
    }
  </script>
</html>
